.MODEL SMALL
.STACK 100H
.DATA

STR1 DB 'ENTER YOUR ID: $'
STR2 DB 'YOU ENTERED : $'
COUNT DW 0
POINTER DW 10H

.CODE
MAIN PROC 
    
MOV AX,@DATA
MOV DS,AX

;CODE HERE

LEA DX,STR1
MOV AH,9
INT 21H

XOR CX,CX

MOV AH,1
INT 21H  
INC CX

INPUT:
CMP AL,0DH
JE END_INPUT
PUSH AX
INC CX                                                            
INT 21H
JMP INPUT

END_INPUT:
MOV DX,0DH   ;CARRIAGE AND NEW LINE
MOV AH,2
INT 21H            

MOV DX,0AH
MOV AH,2
INT 21H


CALL ID

MOV AH,4CH
INT 21H

MAIN ENDP

PROC ID 

LOOP1:
POP DX
INC COUNT     
XCHG POINTER,SP
PUSH DX       ; PUSH TO NEW STACK
XCHG POINTER,SP
LOOP LOOP1     

XCHG POINTER,SP

LEA DX, STR2
MOV AH,9
INT 21H
 
DEC COUNT
MOV CX,COUNT

SKIP:
POP DX 
MOV AH,2
INT 21H  
LOOP SKIP 

RET
ID ENDP
