.MODEL SMALL
.STACK 100H
.DATA
.CODE

PROMPT DB 'ENTER STRING:$'
X DB 'NUMBER OF CONSONENTS:$'
COUNT DW 0 
LEN DW 0 
V_COUNT DB 0
MAIN PROC
    
MOV AX,@DATA 
MOV DS,AX
LEA DX,PROMPT
MOV AH,9
INT 21H

XOR CX,CX
MOV AH,1
INT 21H

USER_INPUT:
CMP AL,0DH
JE END_INPUT
PUSH AX
INC COUNT                                                            
INT 21H
JMP USER_INPUT

END_INPUT:
MOV DX,0DH   ;CARRIAGE AND NEW LINE
MOV AH,2
INT 21H 

MOV AX,COUNT
MOV LEN,AX
XOR AX,AX

WHILE:
CMP LEN,0
JE PRINT

XOR BX,BX
POP BX
MOV BH,0H

WHILE_: 
CMP LEN,0
JE PRINT
CMP BX,41H
JE YES

CMP BX,45H
JE YES

CMP BX,49H
JE YES 

CMP BX,4FH
JE YES

CMP BX,55H
JE YES 
 

CMP BX,61H
JE YES 

CMP BX,65H
JE YES

CMP BX,69H
JE YES 

CMP BX,6FH
JE YES 

CMP BX,75H
JE YES  
DEC LEN 
LOOP WHILE

YES:
INC V_COUNT
POP BX  
MOV BH,0H
DEC LEN 
LOOP WHILE_

PRINT:

MOV DL,0AH
MOV AH,2
INT 21H
MOV DL,0DH
MOV AH,2
INT 21H

LEA DX,X
MOV AH,9
INT 21H

MOV AX,COUNT
MOV BL,V_COUNT
XOR BH,BH
SUB AX,BX

MOV DL,AL 
ADD DL,30H
MOV AH,2
INT 21H

EXIT:

MOV AH, 4CH
INT 21H

MAIN ENDP
END MAIN
